---

copyright:
  years: 2018, 2019
lastupdated: "2019-03-28"

keywords: fairness, monitoring, charts, de-biasing, bias, accuracy

subcollection: ai-openscale

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:tip: .tip}
{:important: .important}
{:note: .note}
{:pre: .pre}
{:codeblock: .codeblock}
{:screen: .screen}

# 監視「公平性」、「每分鐘的平均要求數」和「精確度」
{: #it-ov}

個別部署的監視資料會以時間序列圖表顯示。圖表會追蹤過去七天的「公平性」、「每分鐘的平均要求數」和「精確度」。
{: shortdesc}

## 檢視部署的資料
{: #it-vdep}

請從儀表板中選取一項部署，以查看該部署的監視資料。監視資料圖表頂端顯示所部署模型的相關資訊，包括：前次何時針對「公平性」和「精確度」來評估模型，以及下次何時會評估它。

![時間序列圖表](images/insight-time-chart.png)

由於演算法只會每小時執行一次，也會提供一些按鈕，讓您可以隨需檢查「公平性」和「精確度」。如果您沒有提供足夠的有效負載記錄（公平性）或回饋記錄（精確度），您會看到下列訊息，例如：

![「精確度」按鈕](images/accuracy-button.png)

接下來，在圖表中移動標記，以查看某個小時的統計資料。在本例中，選取的時間是 9 月 18 日 1:00 PM CST；顯示的統計資料如下：

![時間序列圖表的明細](images/insight-time-detail.png)

- ***公平性***：在三項「公平性」特性中，「汽車價格」和「區域碼」這兩項符合設定給它們的核准臨界值。第三項「公平性」特性是「年齡」，則被標示為「偏誤」。您也可以在要監視其公平性的特性中，查看其個別族群的預期輸出結果數（在本例中，是「已核准」與「已拒絕」的百分比）。
- ***精確度***：「精確度」度量的平均值是 78%。
- ***每分鐘的平均要求數***：在 1:00 和 2:00 PM CST 之間，每分鐘平均處理了 300 筆記錄。產量每分鐘會計算一次，且會在圖表中報告其在一整個小時內的平均值。

## 將特定小時的資料視覺化
{: #it-vdet}

如果要查看特定「公平性」統計資料背後的明細，請針對選取的那個小時，按一下**檢視明細**鏈結。

會開啟視覺化，以顯示受監視特性在所選該小時的資料點。根據前述範例，會顯示被標記為「偏誤」的「年齡」特性。

請注意頁面頂端的三個過濾器（特性、日期和小時），這可讓您選擇不同的特性或時間來檢閱明細。

![時間序列圖表](images/insight-data-detail.png)

### 解讀圖表
{: #it-intp}

圖表顯示了很多事項：

- 您可以觀察遇到偏誤的族群（18 歲到 23 歲的客戶）。圖表也會顯示此族群的預期輸出結果百分比 (52%)。

- 圖表會顯示參照族群的預期輸出結果百分比 (70%)。這是所有參照族群的預期輸出結果平均值。

- 圖表指出存在偏頗，這是因為 18 歲到 23 歲族群之預期輸出結果百分比，與參照族群的預期輸出結果百分比的比率，低於臨界值。換句話說，0.52/0.7 = 0.74，這小於 0.8 臨界值。

- 在分析有效負載表格資料中屬性的每一個值以識別偏誤之後，圖表也會一一顯示每一個特殊值之參照值與受監視值的分佈。換句話說，如果偏誤偵測演算法分析了有效負載表格中最近的 1790 筆記錄，這些記錄中有 120 筆是關於 18 歲到 23 歲的客戶，而在該項分佈中，會以長條圖來代表 `Approved` 和 `Denied` 輸出結果。會針對公平性屬性的每一個特殊值，一一顯示有效負載資料的分佈（即使會顯示參照值）。此資訊可用來使偏誤與模型所收到的資料量產生關聯。

- 此外，圖表也顯示 31 歲到 35 歲族群收到 91% 預期輸出結果。這指明了偏誤的來源，也就是說，此群組中的資料扭曲了結果，而導致參照類別的預期輸出結果百分比增加。此資訊可用來識別資料中的某些部分，以便之後在重新訓練模型時可以減少取樣它們。

- 另一件重要事項是，當表格中的資料已被識別要手動標示時，圖表會顯示該表格的名稱。每當演算法在模型中偵測到偏誤時，它也會識別資料點，以便傳送給人員來手動標示。之後這項手動標示的資料會連同原始的訓練資料，用來重新訓練模型。這個重新訓練過的模型可能就不會有偏誤。手動標示表格存在於 {{site.data.keyword.aios_short}} 實例相關聯的資料庫中。

## 執行時期與訓練資料
{: #it-rtsw}

執行時期資料 / 訓練資料開關可讓您在訓練模型，與執行時期所收集會觸發偏誤警告的資料之間，切換差異。

![執行時期與訓練的切換](images/runtime_train_data.png)

## 檢視交易
{: #it-tra}

當您按一下**檢視交易**按鈕時，這個選項可讓您檢視造成偏誤的個別交易。

![檢視交易](images/view_transactions.png)

會列出以偏誤的方式執行部署的交易清單。請針對任何交易 ID，按一下**解釋**鏈結，以便在「可解釋性」標籤中取得該交易的相關明細。如需相關資訊，請參閱[監視可解釋性](/docs/services/ai-openscale?topic=ai-openscale-ie-ov)。

選取**所有交易**視圖，以查看所選特性（在本例中為「年齡」）以及所選週期（在本例中為「2018 年 9 月 15 日 1:00 PM」）的所有交易：

![交易清單 - 全部](images/transaction_list1.png)

選取**偏誤交易**視圖，以便只查看收到偏誤輸出結果的交易子集。每一項偏誤交易會與類似但略作改變（擾動）的交易比較，以顯示一旦變更受監視特性（年齡）的值時，會為該偏誤交易帶來怎樣的有利輸出結果：

![交易清單 - 偏誤](images/transaction_list2.png)

## 正式作業模型和除去偏誤模型
{: #it-prdb}

您可以使用這兩個標籤，在您的正式作業模型與 {{site.data.keyword.aios_short}} 所建立的除去偏誤模型之間切換。如需詳細資料，請參閱[瞭解除去偏誤如何運作](/docs/services/ai-openscale?topic=ai-openscale-mf-monitor#mf-debias)。

![執行時期與訓練的切換](images/bias-debias.png)

選取**除去偏誤模型**標籤時，會顯示相對於正式作業中的模型，除去偏誤模型中的變更。在本例中，模型的「公平性」已從 74% 增加到 93%，而「精確度」只下降 1%。此圖表還反映了 18 歲到 23 歲群組的輸出結果狀態已改善。

![執行時期與訓練的切換](images/insight-data-detail2.png)

### 除去偏誤選項
{: #it-dbo}

- *被動的除去偏誤* - 當 {{site.data.keyword.aios_short}} 執行偏誤檢查時，也會對資料執行除去偏誤，其作法是分析模型的行為，並識別模型在其中以偏誤的方式執行的資料。

  接著，{{site.data.keyword.aios_short}} 會建置一個機器學習模型，以預測模型在給定的新資料點上，是否可能以偏誤的方式執行。接著，{{site.data.keyword.aios_short}} 會每小時分析一次模型所收到的資料，並尋找 {{site.data.keyword.aios_short}} 認為模型在其中以偏誤的方式執行的資料點。對於這類資料點，會從少到多擾動公平性屬性，並將擾動資料傳送給原始模型進行預測。對原始模型的這項預測，會作為已除去偏誤的輸出。

  {{site.data.keyword.aios_short}} 會針對過去一小時模型所收到的所有資料，每小時執行一次這項除去偏誤。它也會針對已除去偏誤的輸出，計算其公平性，並顯示在**除去偏誤模型**標籤中。

- *主動除去偏誤* - 在主動除去偏誤中，您可以從您的應用程式利用除去偏誤 REST API 端點。此 REST API 端點會在內部呼叫您的模型，並檢查其行為。

  如果 {{site.data.keyword.aios_short}} 認為模型以偏誤的方式執行，它會依照上述來執行資料擾動，並將它傳回給原始模型。會傳回原始模型對擾動資料的輸出，以作為已除去偏誤的預測。如果 {{site.data.keyword.aios_short}} 判定原始模型不會以偏誤的方式執行，則 {{site.data.keyword.aios_short}} 會傳回原始模型的預測，來作為已除去偏誤的預測。因此，藉由使用這個 REST API 端點，可確保您的應用程式不會根據模型的偏誤輸出來做出決策。

選取**已除去偏頗的評分端點**鏈結，以尋找您除去偏誤的 REST API 端點

![除去偏誤 API 端點](images/insight-debias-api.png)
